<h1>CIVCARDS TEST</h1>

<!-- Lets make a simple snake game -->
<canvas id="canvas" width="550" height="310"></canvas>

<!-- Jquery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<script src="deck.js" type="text/javascript"></script>
<script src="cards.js" type="text/javascript"></script>
<script src="board.js" type="text/javascript"></script>
<script src="draw.js" type="text/javascript"></script>

<script>
  $(document).ready(function(){
	  //Canvas stuff
	  var canvas = $("#canvas")[0];
	  var ctx = canvas.getContext("2d");
	  var w = $("#canvas").width();
	  var h = $("#canvas").height();
    
    // draw deck and hand
		var player = {}; 
		player.deck = shuffleDeck(createDeck('PLAYER'))
    player.hand = [];
		var board = createBoard();
	  
    while (player.hand.length < 3) { drawCard(player.deck, player.hand); }
      
    draw();
		
		function draw() {
			ctx.fillStyle = "white";
			ctx.fillRect(0, 0, w, h);
			drawBoard(ctx, board);
   		drawDeckHand(player.deck, player.hand, ctx);
		};
		
		canvas.addEventListener('click', function(event) {
    		var x = event.pageX - canvas.offsetLeft, y = event.pageY - canvas.offsetTop;

				if (x % 60 < 10 || y % 60 < 10) { return; }
				var ix = Math.floor(x / 60);
				var iy = Math.floor(y / 60);
				if (ix == 0 && iy == 4) {
					drawCard(player.deck, player.hand);
					draw();
				}}, false);
  });
</script>
