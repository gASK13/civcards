<h1>CIVCARDS TEST</h1>

<!-- Lets make a simple snake game -->
<canvas id="canvas" width="450" height="450"></canvas>

<!-- Jquery -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

<script>
  $(document).ready(function(){
	  //Canvas stuff
	  var canvas = $("#canvas")[0];
	  var ctx = canvas.getContext("2d");
	  var w = $("#canvas").width();
	  var h = $("#canvas").height();
    
    // draw deck and hand
    var deck = shuffleDeck(createDeck());
    var hand = [];
    
    ctx.font = "10px Arial";
    var pos = 1;
    deck.forEach(function(element) { ctx.fillText(element.name, pos++*10, 50)});
  }
                    
  // createDeck
  function createDeck() {
    var deck = [];
    for (i = 0; i < 10; i++) {
      deck.push(createCard('Warrior'));
    }
    for (i = 0; i < 5; i++) {
      deck.push(createCard('Archer'));
    }
    for (i = 0; i < 3; i++) {
      deck.push(createCard('Farm'));
    }
    return deck;
  };

  Array.prototype.move = function(from, to) {
    this.splice(to, 0, this.splice(from, 1)[0]);
  };
  
  // shuffle deck
  function shuffleDeck(deck) {
    for(i = 0; i < deck.length; i++) {
      deck.move(i, Math.floor(Math.random() * deck.length));
    }
    return deck;
  };

  // card types
  function createCard(type) {
    var card = {};
    if (type == 'Warrior') {
      card.name = 'Warrior';
      card.type = 'UNIT';
      card.cost = 1;
    } else if (type == 'Farm') {
      card.name = 'Farm';
      card.type = 'BUILDING';
      card.subtype = 'PRODUCTION';
      card.cost = 3;
    } else if (type == 'Archer') {
      card.name = 'Archer';
      card.type = 'UNIT';
      card.cost = 2;
    }
    return card;

  };
</script>
